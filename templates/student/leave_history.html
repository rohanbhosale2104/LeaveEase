{% extends "base.html" %}
{% block sidebar %}{% include "student/sidebar.html" %}{% endblock %}

{% block content %}
<h5 class="mb-4">Leave Request History</h5>
<div class="card shadow-sm">
  <div class="card-body">
    {% if requests %}
    <table class="table table-sm">
      <thead>
      <tr>
        <th>Dates</th>
        <th>Reason</th>
        <th>Attendance</th>
        <th>Status</th>
      </tr>
      </thead>
      <tbody>
      {% for r in requests %}
      <tr>
        <td>{{ r.from_date }} to {{ r.to_date }}</td>
        <td>{{ r.reason }}</td>
        <td>{{ r.attendance }}%</td>
        <td>{{ r.overall_status() }}</td>
      </tr>
      {% endfor %}
      </tbody>
    </table>
    {% else %}
    <p class="text-muted mb-0">No leave requests yet.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
